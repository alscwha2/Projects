<!DOCTYPE html>
<html>
<head>
  <title>Lab 3</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js" charset="utf-8" type="text/javascript"></script>
</head>
<body>
<div id="div11"></div>
<div id="div12"></div>
<div id="div1"></div>
<div id="div2"></div>
<div id="div3"></div>
<div id="div4"></div>
<div id="div5"></div>
<div id="div6"></div>
<div id="div7"></div>
<div id="div8"></div>
<div id="div9"></div>
<div id="div10"></div>
<script type="text/javascript">
  var anx = [4, 4, 18, 13, 8, 5, 11, 0, 6, 0, 4, 0, 21, 3, 1, 21, 6, 3, 9, 6, 4, 15, 4, 4, 4, 18, 21, 6, 14, 3, 7, 7, 7, 1, 16, 6, 0, 5, 10, 4, 9, 6, 4, 12, 4, 0, 2, 10, 13, 6, 6, 0, 3, 14, 4, 0, 7, 5, 4, 5, 6, 4, 2, 9, 7, 6, 20, 12, 7, 16, 7, 8, 5, 7, 9, 7, 5, 13, 6, 7, 10, 3, 5, 4, 5, 2, 16, 7, 17, 2, 4, 8, 2, 2, 11, 20, 6, 2, 12, 5, 6, 3, 5, 15, 14, 7, 4, 12, 6, 19, 9, 6, 10, 8, 1, 1, 5, 21, 18, 9, 0, 3, 14, 5, 12, 3, 4, 6, 4, 12, 0, 2, 5, 1, 7, 3, 5, 15, 3, 16, 7, 15, 6, 2, 5, 15, 15, 9, 3, 7, 7, 5, 2, 2, 9, 5, 3, 5, 17, 0, 7, 6, 6, 5, 9, 15, 5, 3, 7, 14, 9, 10, 4, 2, 9, 3, 17, 3, 4, 16, 2, 2, 11, 4, 3, 14, 8, 4, 9, 3, 18, 9, 5, 5, 3, 21, 6, 4, 4, 6, 13, 6, 12, 6, 15, 7, 11, 16, 6, 1, 4, 1, 18, 11, 18, 19, 6, 8, 11, 3, 15, 6, 5, 13, 0, 14, 8, 18, 5, 19, 10, 2, 14, 6, 7, 1, 14, 0, 10, 7, 0, 0, 7, 0, 0, 10, 21, 0, 1, 5, 0, 7, 21, 0, 0, 0, 0, 11, 0, 0, 0, 0, 2, 0, 0, 7, 14, 0, 7, 0, 0, 0, 0, 7, 21, 0, 3, 7, 0, 21, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 21, 0, 0, 0, 0, 21, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 14, 14, 0, 0, 7, 0, 7, 0, 0, 0, 0, 0, 0, 0, 21, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 12, 7, 2, 3, 7, 2, 0, 11, 3, 0, 1, 0, 0, 0, 1, 0, 0, 12, 3, 0, 0, 3, 2, 0, 0, 0, 6, 0, 3, 2, 0, 14, 0, 0, 2, 15, 0, 0, 16, 5, 0, 0, 0, 3, 10, 6, 18, 6, 5, 12, 1, 10, 1, 0, 1, 0, 3, 3, 0, 14, 0, 5, 3, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 18, 0, 0, 0, 0];

  var dep = [3, 3, 17, 12, 9, 6, 6, 5, 10, 1, 7, 0, 19, 4, 2, 27, 2, 5, 2, 8, 3, 13, 7, 2, 5, 19, 18, 8, 18, 2, 3, 8, 1, 2, 17, 1, 1, 7, 5, 2, 5, 1, 9, 19, 2, 3, 5, 8, 16, 6, 6, 0, 2, 23, 1, 5, 11, 1, 6, 13, 5, 2, 4, 12, 5, 0, 21, 12, 4, 22, 6, 6, 5, 10, 5, 2, 8, 8, 15, 17, 9, 2, 4, 2, 5, 3, 8, 4, 24, 1, 0, 8, 3, 2, 17, 18, 9, 0, 6, 2, 8, 9, 2, 14, 7, 1, 5, 10, 5, 9, 4, 7, 13, 5, 0, 5, 3, 18, 24, 2, 0, 5, 23, 2, 9, 2, 5, 2, 4, 9, 1, 21, 4, 8, 2, 1, 3, 16, 1, 14, 17, 10, 3, 4, 7, 15, 8, 12, 1, 4, 5, 3, 1, 6, 6, 10, 2, 8, 8, 14, 8, 7, 3, 1, 15, 14, 9, 1, 9, 20, 5, 8, 1, 7, 11, 7, 17, 6, 3, 24, 2, 2, 13, 6, 8, 6, 1, 4, 8, 4, 11, 12, 5, 14, 5, 23, 4, 6, 2, 3, 16, 8, 9, 3, 10, 3, 16, 13, 5, 0, 2, 6, 16, 16, 20, 26, 8, 15, 4, 7, 12, 6, 7, 4, 1, 12, 9, 7, 5, 14, 3, 2, 15, 6, 4, 2, 8, 0, 0, 9, 0, 0, 0, 0, 0, 6, 16, 0, 1, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 8, 0, 0, 24, 0, 0, 0, 0, 24, 8, 0, 1, 24, 0, 16, 16, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 16, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 8, 0, 0, 0, 0, 16, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 16, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 8, 0, 0, 5, 2, 0, 14, 1, 0, 3, 0, 2, 2, 1, 0, 0, 2, 4, 0, 0, 2, 7, 1, 0, 0, 0, 0, 0, 1, 0, 13, 0, 1, 0, 18, 3, 7, 8, 4, 0, 0, 2, 3, 22, 2, 27, 1, 5, 7, 0, 2, 1, 0, 2, 0, 5, 5, 2, 12, 0, 3, 2, 0, 14, 0, 2, 0, 0, 2, 0, 1, 0, 0, 2, 0, 2, 0, 0, 0, 19, 0, 1, 3, 0];

  var getSizes = function(ar1, ar2) {
    //make empty 2D array
    var freq = [];
    for (var i = 0; i < Math.max(...ar1) + 1; i++) {
      var arr = [];
      for (var j = 0; j < Math.max(...ar2) + 1; j++) arr.push(0);
      freq.push(arr);
    }
    //fill 2D array
    for (var i = 0; i < ar1.length; i++) {
      freq[ar1[i]][ar2[i]]++;
    }
    //get rid of 0,0 that messes us up.
    freq[0][0] = 0;

    //turn into 1D array
    var linkedfreq = [];
    for (var i = 0; i < ar1.length; i++) {
      linkedfreq.push(freq[ar1[i]][ar2[i]]);
    }
    //get size
    //var max = Math.max(...linkedfreq);
    for (var i = 0; i < linkedfreq.length; i++) {
      //linkedfreq[i] = parseFloat(linkedfreq[i]) / parseFloat(max);
      linkedfreq[i] *= 10;
    }
    return linkedfreq;
  }


  //the full plot
  var trace1 = {
    x: anx,
    y: dep,
    mode: 'markers',
    type: 'scatter',
  };
  var data1 = [trace1];

  var layout = {
    height: 800,
    width: 1500,
    xaxis: {
      tickmode: "linear",
      dtick: 1,
      title: "Anxiety",
      titlefont: {
        size: 40,
      }
    },
    yaxis: {
      tickmode: "linear",
      dtick: 2,
      title: "Depression",
      titlefont: {
        size: 40
      }
    },
  
    shapes : [
    {
      "fillcolor": "ff9999",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": -0.5,
      "x1": 4.5,
      "xref": "x",
      "y0": 0,
      "y1": 28,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "66b266",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 4.5,
      "x1": 7.5,
      "xref": "x",
      "y0": 0,
      "y1": 28,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "ef8eef",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 7.5,
      "x1": 22,
      "xref": "x",
      "y0": 0,
      "y1": 28,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "white",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 0,
      "y1": 4.5,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "yellow",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 4.5,
      "y1": 9.5,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "orange",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 9.5,
      "y1": 14.5,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "red",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 14.5,
      "y1": 19.5,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "maroon",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 19.5,
      "y1": 28,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "white",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": -0.5,
      "x1": 4.5,
      "xref": "x",
      "y0": -1.5,
      "y1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "yellow",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 4.5,
      "x1": 9.5,
      "xref": "x",
      "y0": -1.5,
      "y1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "orange",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 9.5,
      "x1": 14.5,
      "xref": "x",
      "y0": -1.5,
      "y1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "ff9999",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 14.5,
      "x1": 21.5,
      "xref": "x",
      "y0": -1.5,
      "y1": -0.5,
      "yref": "y",
      "layer": "below"
    }
    ],

    plot_bgcolor: "#cccccc"
  };

  Plotly.newPlot('div1', data1, layout);

  var size = getSizes(anx, dep);
  var text = []; for (var i = 0; i < size.length; i++) text.push(size[i] / 10);
  var textsize = []; for (var i = 0; i < size.length; i++) textsize.push(size[i] / 2);

  //the size frequency plot
  trace1.mode = 'markers+text';
  trace1.marker = {size: size};
  trace1.text = text;
  trace1.textfont = {color: '#39FF14', size: textsize};
  Plotly.newPlot('div2', data1, layout);

  //now without the colors
  layout.shapes = [
    {
      "fillcolor": "white",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 0,
      "y1": 4.5,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "yellow",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 4.5,
      "y1": 9.5,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "orange",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 9.5,
      "y1": 14.5,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "red",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 14.5,
      "y1": 19.5,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "maroon",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "y0": 19.5,
      "y1": 28,
      "xref": "x",
      "x0": -1.5,
      "x1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "white",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": -0.5,
      "x1": 4.5,
      "xref": "x",
      "y0": -1.5,
      "y1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "yellow",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 4.5,
      "x1": 9.5,
      "xref": "x",
      "y0": -1.5,
      "y1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "orange",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 9.5,
      "x1": 14.5,
      "xref": "x",
      "y0": -1.5,
      "y1": -0.5,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "ff9999",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 14.5,
      "x1": 21.5,
      "xref": "x",
      "y0": -1.5,
      "y1": -0.5,
      "yref": "y",
      "layer": "below"
    }
    ];
  Plotly.newPlot('div12', data1, layout);
  trace1.mode = "markers";
  trace1.marker = {};
  Plotly.newPlot('div11', data1, layout);
  /*
  //now split the graph into two graphs, one mapping anx0-7 and one anx8-30
  //do the 0-7 first
  indices = [];
  var newAnx = [];
  var newDep = [];
  for (var i = 0; i < anx.length; i++) if(anx[i] < 8) indices.push(i);
  for (var i = 0; i < indices.length; i++) {
    newAnx.push(anx[indices[i]]);
    newDep.push(dep[indices[i]]);
  }

  var trace2 = {
    x: newAnx,
    y: newDep,
    mode: 'markers',
    type: 'scatter',
  };
  var data2 = [trace2];

  layout.shapes = 
  [
  {
      "fillcolor": "ff9999",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": -0.5,
      "x1": 4.5,
      "xref": "x",
      "y0": 0,
      "y1": 28,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "66b266",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 4.5,
      "x1": 7.5,
      "xref": "x",
      "y0": 0,
      "y1": 28,
      "yref": "y",
      "layer": "below"
    }
    ];

  Plotly.newPlot('div3', data2, layout);

  //now do 0-7 with freqs
  size = getSizes(newAnx, newDep);
  text = []; for (var i = 0; i < size.length; i++) text.push(size[i] / 10);
  textsize = []; for (var i = 0; i < size.length; i++) textsize.push(size[i] / 2);

  trace2.mode = 'markers+text';
  trace2.marker = {size: size};
  trace2.text = text;
  trace2.textfont = {color: '#39FF14', size: textsize};
  Plotly.newPlot('div4', data2, layout);

  //for 8-30
  indices = [];
  newAnx = [];
  newDep = [];
  for (var i = 0; i < anx.length; i++) if(anx[i] > 7) indices.push(i);
  for (var i = 0; i < indices.length; i++) {
    newAnx.push(anx[indices[i]]);
    newDep.push(dep[indices[i]]);
  }

  var trace3 = {
    x: newAnx,
    y: newDep,
    mode: 'markers',
    type: 'scatter',
  };
  var data3 = [trace3];

  layout.shapes = [
    {
      "fillcolor": "ef8eef",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 7.5,
      "x1": 22,
      "xref": "x",
      "y0": 0,
      "y1": 28,
      "yref": "y",
      "layer": "below"
    }
    ];


  Plotly.newPlot('div5', data3, layout);

  //now do 8-30 with freqs
  size = getSizes(newAnx, newDep);
  text = []; for (var i = 0; i < size.length; i++) text.push(size[i] / 10);
  textsize = []; for (var i = 0; i < size.length; i++) textsize.push(size[i] / 2);
  
  trace3.mode = 'markers+text';
  trace3.marker = {size: size};
  trace3.text = text;
  trace3.textfont = {color: '#39FF14', size: textsize};
  Plotly.newPlot('div6', data3, layout);


  //0-4
  indices = [];
  var newAnx = [];
  var newDep = [];
  for (var i = 0; i < anx.length; i++) if(anx[i] < 5) indices.push(i);
  for (var i = 0; i < indices.length; i++) {
    newAnx.push(anx[indices[i]]);
    newDep.push(dep[indices[i]]);
  }

  var trace4 = {
    x: newAnx,
    y: newDep,
    mode: 'markers',
    type: 'scatter',
  };
  var data4 = [trace4];

  layout.shapes = 
  [
  {
      "fillcolor": "ff9999",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": -0.5,
      "x1": 4.5,
      "xref": "x",
      "y0": 0,
      "y1": 28,
      "yref": "y",
      "layer": "below"
    }
    ];

  Plotly.newPlot('div7', data4, layout);

  //now do 0-4 with freqs
  size = getSizes(newAnx, newDep);
  text = []; for (var i = 0; i < size.length; i++) text.push(size[i] / 10);
  textsize = []; for (var i = 0; i < size.length; i++) textsize.push(size[i] / 2);
  
  trace4.mode = 'markers+text';
  trace4.marker = {size: size};
  trace4.text = text;
  trace4.textfont = {color: '#39FF14', size: textsize};
  Plotly.newPlot('div8', data4, layout);

  //for 5-30
  indices = [];
  newAnx = [];
  newDep = [];
  for (var i = 0; i < anx.length; i++) if(anx[i] > 4) indices.push(i);
  for (var i = 0; i < indices.length; i++) {
    newAnx.push(anx[indices[i]]);
    newDep.push(dep[indices[i]]);
  }

  var trace5 = {
    x: newAnx,
    y: newDep,
    mode: 'markers',
    type: 'scatter',
  };
  var data5 = [trace5];

  layout.shapes = [
    {
      "fillcolor": "66b266",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 4.5,
      "x1": 7.5,
      "xref": "x",
      "y0": 0,
      "y1": 28,
      "yref": "y",
      "layer": "below"
    },
    {
      "fillcolor": "ef8eef",
      "line": {"width": 0},
      "opacity": 0.5,
      "type": "rect",
      "x0": 7.5,
      "x1": 22,
      "xref": "x",
      "y0": 0,
      "y1": 28,
      "yref": "y",
      "layer": "below"
    }
    ];


  Plotly.newPlot('div9', data5, layout);

  //now do 5-30 with freqs
  size = getSizes(newAnx, newDep);
  text = []; for (var i = 0; i < size.length; i++) text.push(size[i] / 10);
  textsize = []; for (var i = 0; i < size.length; i++) textsize.push(size[i] / 2);
  
  trace5.mode = 'markers+text';
  trace5.marker = {size: size};
  trace5.text = text;
  trace5.textfont = {color: '#39FF14', size: textsize};
  Plotly.newPlot('div10', data5, layout);
  */

  FROM L3b:

  


  /*

  //now split the graph into two graphs, one mapping anx0-7 and one anx8-30
  //do the 0-7 first
  indices = [];
  var newAnx = [];
  var newDep = [];
  for (var i = 0; i < anx.length; i++) if(anx[i] < 8) indices.push(i);
  for (var i = 0; i < indices.length; i++) {
    newAnx.push(anx[indices[i]]);
    newDep.push(dep[indices[i]]);
  }

  var trace2 = {
    x: newDep,
    y: newAnx,
    mode: 'markers',
    type: 'scatter',
  };
  var data2 = [trace2];

  layout.shapes = {};

  Plotly.newPlot('div3', data2, layout);

  //now do 0-7 with freqs
  size = getSizes(newAnx, newDep);
  text = []; for (var i = 0; i < size.length; i++) text.push(size[i] / 10);
  textsize = []; for (var i = 0; i < size.length; i++) textsize.push(size[i] / 2);

  trace2.mode = 'markers+text';
  trace2.marker = {size: size};
  trace2.text = text;
  trace2.textfont = {color: '#39FF14', size: textsize};
  Plotly.newPlot('div4', data2, layout);

  //for 8-30
  indices = [];
  newAnx = [];
  newDep = [];
  for (var i = 0; i < anx.length; i++) if(anx[i] > 7) indices.push(i);
  for (var i = 0; i < indices.length; i++) {
    newAnx.push(anx[indices[i]]);
    newDep.push(dep[indices[i]]);
  }

  var trace3 = {
    x: newDep,
    y: newAnx,
    mode: 'markers',
    type: 'scatter',
  };
  var data3 = [trace3];

  Plotly.newPlot('div5', data3, layout);

  //now do 8-30 with freqs
  size = getSizes(newAnx, newDep);
  text = []; for (var i = 0; i < size.length; i++) text.push(size[i] / 10);
  textsize = []; for (var i = 0; i < size.length; i++) textsize.push(size[i] / 2);
  
  trace3.mode = 'markers+text';
  trace3.marker = {size: size};
  trace3.text = text;
  trace3.textfont = {color: '#39FF14', size: textsize};
  Plotly.newPlot('div6', data3, layout);


  //0-4
  indices = [];
  for (var i = 0; i < anx.length; i++) if(anx[i] < 5) indices.push(i);
  for (var i = 0; i < indices.length; i++) {
    newAnx.push(anx[indices[i]]);
    newDep.push(dep[indices[i]]);
  }

  var trace4 = {
    x: newDep,
    y: newAnx,
    mode: 'markers',
    type: 'scatter',
  };
  var data4 = [trace4];

  Plotly.newPlot('div7', data4, layout);

  //now do 0-4 with freqs
  size = getSizes(newAnx, newDep);
  text = []; for (var i = 0; i < size.length; i++) text.push(size[i] / 10);
  textsize = []; for (var i = 0; i < size.length; i++) textsize.push(size[i] / 2);
  
  trace4.mode = 'markers+text';
  trace4.marker = {size: size};
  trace4.text = text;
  trace4.textfont = {color: '#39FF14', size: textsize};
  Plotly.newPlot('div8', data4, layout);

  //for 5-30
  indices = [];
  newAnx = [];
  newDep = [];
  for (var i = 0; i < anx.length; i++) if(anx[i] > 4) indices.push(i);
  for (var i = 0; i < indices.length; i++) {
    newAnx.push(anx[indices[i]]);
    newDep.push(dep[indices[i]]);
  }

  var trace5 = {
    x: newDep,
    y: newAnx,
    mode: 'markers',
    type: 'scatter',
  };
  var data5 = [trace5];

  Plotly.newPlot('div9', data5, layout);

  //now do 5-30 with freqs
  size = getSizes(newAnx, newDep);
  text = []; for (var i = 0; i < size.length; i++) text.push(size[i] / 10);
  textsize = []; for (var i = 0; i < size.length; i++) textsize.push(size[i] / 2);
  
  trace5.mode = 'markers+text';
  trace5.marker = {size: size};
  trace5.text = text;
  trace5.textfont = {color: '#39FF14', size: textsize};
  Plotly.newPlot('div10', data5, layout);
  */
</script>
</body>
</html>